<!DOCTYPE html>
<html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<head>
	<title>NBA STATS</title>
	<link rel="stylesheet" href="css/scatterPlot.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/slider.css" />

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


	<script type="text/javascript" src="library/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="library/jquery.autocomplete.min.js"></script>
	<script src="library/d3.v3.min.js" charset="utf-8"></script>
	<script src="library/topojson.v1.min.js"></script>
	<script src="library/dropdown.js"></script>
	<script src="http://d3js.org/d3.v3.min.js"></script>

	<link href="bootstrap-toggle-master/css/bootstrap-toggle.min.css" rel="stylesheet">
	<script src="bootstrap-toggle-master/js/bootstrap-toggle.min.js"></script>


	<script src="javascript/main.js"></script>
	<script src="javascript/starplot.js"></script>
	<script src="javascript/voronoiMap.js"></script>

	<script src="javascript/slider.js"></script>
	<script src="javascript/linechart.js"></script>



</head>

<body>

	<div class="container-fluid remove-all-margin">

		<div class="row">
			<div class="row-eq-height">
				<div class="col-sm-3">
					<div class="col-sm-2">
						<svg class="col-sm-12" height="150"></svg>
						<div class="row">
							<input type="search" value="Insert a Player or Team" class="biginput" id="autocomplete">
						</div>
						<div class="row">
							<input id="toggle-Playoffs" checked data-toggle="toggle" data-on="Season" data-off="Playoffs" data-onstyle="success" data-offstyle="primary"
								type="checkbox">
						</div>
					</div>
				</div>

				<svg id="the_VoronoiMap" class="col-sm-6"></svg>

				<svg id="info" class="col-sm-3" height="400">
					<text id="infoYear" x="20" y="50" font-family="Roboto" font-size="20px">Selected year: 2016</text>
					<text id="infoTeam" x="20" y="80" font-family="Roboto" font-size="20px"></text>
					<text id="infoPlayer" x="20" y="110" font-family="Roboto" font-size="20px"></text>
				</svg>
			</div>
		</div>
		<div class="row">
			<div class="row-eq-height">
				<svg id="the_scatterPlot" class="col-sm-4" height="400"></svg>
				
				<svg id="the_linechart" class="col-sm-4" height="400"></svg>

				<div class="col-sm-4">
					<div class="row">
						<div class="col-sm-8">
							<div id="the_starPlot" class="radarChart"> </div>
						</div>
						<div id="toglesStar" class="col-sm-4 hidden">
							<svg class="col-sm-12" height="60"></svg>
							<input id="toggle-PTSs" type="checkbox" checked data-toggle="toggle" data-onstyle="primary" data-on="Points" data-off="Points"
								data-width="100"></input>
							<input id="toggle-ASTs" type="checkbox" checked data-toggle="toggle" data-onstyle="primary" data-on="Assists" data-off="Assists"
								data-width="100"></input>
							<input id="toggle-TRBs" type="checkbox" checked data-toggle="toggle" data-onstyle="primary" data-on="Rebounds" data-off="Rebounds"
								data-width="100"></input>
							<input id="toggle-2PTs" type="checkbox"  data-toggle="toggle" data-onstyle="primary" data-on="2 Points" data-off="2 Points"
								data-width="100"></input>
							<input id="toggle-3PTs" type="checkbox"  data-toggle="toggle" data-onstyle="primary" data-on="3 Points" data-off="3 Points"
								data-width="100"></input>
							<input id="toggle-DRBs" type="checkbox"  data-toggle="toggle" data-onstyle="primary" data-on="Dribles" data-off="Dribles"
								data-width="100"></input>
							<input id="toggle-STLs" type="checkbox"  data-toggle="toggle" data-onstyle="primary" data-on="Steals" data-off="Steals"
								data-width="100"></input>
							<input id="toggle-PERs" type="checkbox"  data-toggle="toggle" data-onstyle="danger" data-on="Percent" data-off="Percent"
								data-width="100"></input>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="row-eq-height">
				<div class="col-sm-4"></div>

				<div class="col-sm-4 offset-sm-4 ">
					<div class = "col-sm-1"></div>
					<div id="toglesLine" class="col-sm-11 hidden"> 
						<input id="toggle-PTS" type="checkbox" checked data-toggle="toggle" data-onstyle="primary" data-on="Points" data-off="Points"
						data-width="100"></input>
						<input id="toggle-AST" type="checkbox" data-toggle="toggle" data-onstyle="success" data-on="Assists" data-off="Assists" data-width="100"></input>
						<input id="toggle-TRB" type="checkbox" data-toggle="toggle" data-onstyle="info" data-on="Rebounds" data-off="Rebounds" data-width="100"  ></input>
						<input id="toggle-DRB" type="checkbox" data-toggle="toggle" data-onstyle="warning" data-on="Dribles" data-off="Dribles" data-width="100"  ></input>
						<input id="toggle-STL" type="checkbox" data-toggle="toggle" data-onstyle="danger" data-on="Steals" data-off="Steals" data-width="100"  ></input>
					</div>
				</div>
				<div class="col-sm-4"></div>
			</div>
		</div>
	</div>






	<div id="searchfield">
		<h2>Year</h2>
		<div id="theYear"> 2016 </div>
		<div style="width: 90%; position: relative; left: 50px;" id="slider1"></div>
	</div>

	<button onclick="Comparator()" class="btn btn-danger btn-lg" style="position: fixed; bottom: 0px; left: 100px;">Comparator</button>


	<script>
						  main();
						  info = new Info();

						  d3.select('#slider1').call(d3.slider().axis(true).min(1950).max(2016).step(1).value(2016).on("slide", function (evt, value) {
							  document.getElementById("theYear").innerHTML = value;
							  updateAllData(value);
						  }));

						  $(function () {
							  d3.json("data/Jogadores_VI/playersNames.json", function (players) {
								  d3.json("data/equipas_VI/teamsNames.json", function (teams) {
									  var array = players.concat(teams);
									  $('#autocomplete').autocomplete({
										  lookup: array,
										  onSelect: function (suggestion) {
											  updateSearchBar(suggestion);
										  }
									  });
								  });
							  });
						  });


						  $(function () {
							  $('#toggle-PTS').change(function () {
								  if ($(this).prop('checked')) {
									  $('#toggle-AST').bootstrapToggle('enable');
									  $('#toggle-TRB').bootstrapToggle('enable');
									  $('#toggle-DRB').bootstrapToggle('enable');
									  $('#toggle-STL').bootstrapToggle('enable');
									  console.log("hereerererr");
									  $('#toggle-AST').bootstrapToggle('off');
									  $('#toggle-TRB').bootstrapToggle('off');
									  $('#toggle-DRB').bootstrapToggle('off');
									  $('#toggle-STL').bootstrapToggle('off');
									  $('#toggle-PTS').bootstrapToggle('disable');
									  updateStat("PTS");
								  }
							  })
							  $('#toggle-AST').change(function () {
								  if ($(this).prop('checked')) {
									  $('#toggle-PTS').bootstrapToggle('enable');
									  $('#toggle-TRB').bootstrapToggle('enable');
									  $('#toggle-DRB').bootstrapToggle('enable');
									  $('#toggle-STL').bootstrapToggle('enable');
									  console.log("hereerererr");
									  $('#toggle-PTS').bootstrapToggle('off');
									  $('#toggle-TRB').bootstrapToggle('off');
									  $('#toggle-DRB').bootstrapToggle('off');
									  $('#toggle-STL').bootstrapToggle('off');
									  $('#toggle-AST').bootstrapToggle('disable');
									  updateStat("AST");
									  // callyourFunction();
								  }
							  })
							  $('#toggle-TRB').change(function () {
								  if ($(this).prop('checked')) {
									  $('#toggle-PTS').bootstrapToggle('enable');
									  $('#toggle-AST').bootstrapToggle('enable');
									  $('#toggle-DRB').bootstrapToggle('enable');
									  $('#toggle-STL').bootstrapToggle('enable');
									  console.log("hereerererr");
									  $('#toggle-PTS').bootstrapToggle('off');
									  $('#toggle-AST').bootstrapToggle('off');
									  $('#toggle-DRB').bootstrapToggle('off');
									  $('#toggle-STL').bootstrapToggle('off');
									  $('#toggle-TRB').bootstrapToggle('disable');
									  updateStat("TRB");
									  // callyourFunction();
								  }
							  })
							  $('#toggle-DRB').change(function () {
								  if ($(this).prop('checked')) {
									  $('#toggle-PTS').bootstrapToggle('enable');
									  $('#toggle-AST').bootstrapToggle('enable');
									  $('#toggle-TRB').bootstrapToggle('enable');
									  $('#toggle-STL').bootstrapToggle('enable');
									  console.log("hereerererr");
									  $('#toggle-PTS').bootstrapToggle('off');
									  $('#toggle-AST').bootstrapToggle('off');
									  $('#toggle-TRB').bootstrapToggle('off');
									  $('#toggle-STL').bootstrapToggle('off');
									  $('#toggle-DRB').bootstrapToggle('disable');
									  updateStat("DRB");
									  // callyourFunction();
								  }
							  })
							  $('#toggle-STL').change(function () {
								  if ($(this).prop('checked')) {
									  $('#toggle-PTS').bootstrapToggle('enable');
									  $('#toggle-AST').bootstrapToggle('enable');
									  $('#toggle-TRB').bootstrapToggle('enable');
									  $('#toggle-DRB').bootstrapToggle('enable');
									  console.log("hereerererr");
									  $('#toggle-PTS').bootstrapToggle('off');
									  $('#toggle-AST').bootstrapToggle('off');
									  $('#toggle-TRB').bootstrapToggle('off');
									  $('#toggle-DRB').bootstrapToggle('off');
									  $('#toggle-STL').bootstrapToggle('disable');
									  updateStat("STL");
									  // callyourFunction();
								  }
							  })


							  $('#toggle-Playoffs').change(function () {
								  
								  if ($(this).prop('checked')== false) {
									setRegularSeason();
								  }
								  else if ($(this).prop('checked')){
									setRegularSeason();
								  }
							  })							  							  							  

							  $('#toggle-PTSs').change(function () {
								  
								  if ($(this).prop('checked')== false) {
									if(addArray() == false){
										$(this).bootstrapToggle('on');
									}
									
								  }
								  else if ($(this).prop('checked')){
									addArray();
								  }
							  })

							  $('#toggle-ASTs').change(function () {
								  
								  if ($(this).prop('checked')== false) {
									if(addArray() == false){
										$(this).bootstrapToggle('on');
									}
									
								  }
								  else if ($(this).prop('checked')){
									addArray();
								  }
							  })

							  $('#toggle-TRBs').change(function () {
								  
								  if ($(this).prop('checked')== false) {
									if(addArray() == false){
										$(this).bootstrapToggle('on');
									}
									
								  }
								  else if ($(this).prop('checked')){
									addArray();
								  }
							  })

							  $('#toggle-DRBs').change(function () {
								  
								  if ($(this).prop('checked')== false) {
									if(addArray() == false){
										$(this).bootstrapToggle('on');
									}
									
								  }
								  else if ($(this).prop('checked')){
									addArray();
								  }
							  })

							  $('#toggle-STLs').change(function () {
								  
								  if ($(this).prop('checked')== false) {
									if(addArray() == false){
										$(this).bootstrapToggle('on');
									}
									
								  }
								  else if ($(this).prop('checked')){
									addArray();
								  }
							  })

							  $('#toggle-3PTs').change(function () {
								  
								  if ($(this).prop('checked')== false) {
									if(addArray() == false){
										$(this).bootstrapToggle('on');
									}
									
								  }
								  else if ($(this).prop('checked')){
									addArray();
								  }
							  })

							  $('#toggle-2PTs').change(function () {
								  
								  if ($(this).prop('checked')== false) {
									if(addArray() == false){
										$(this).bootstrapToggle('on');
									}
									
								  }
								  else if ($(this).prop('checked')){
									addArray();
								  }
							  })

							  $('#toggle-PERs').change(function () {
								  
								  if ($(this).prop('checked')== false) {
									  formatN();
									  addArray();
									  $('#toggle-PTSs').bootstrapToggle('enable');
									  $('#toggle-ASTs').bootstrapToggle('enable');
									  $('#toggle-TRBs').bootstrapToggle('enable');
									  $('#toggle-DRBs').bootstrapToggle('enable');
									  $('#toggle-STLs').bootstrapToggle('enable');
								 	  $('#toggle-3PTs').bootstrapToggle('enable');
									  $('#toggle-2PTs').bootstrapToggle('enable');
									
								  }
								  else if ($(this).prop('checked')){
									  formatN();
									  addArray();
									  $('#toggle-PTSs').bootstrapToggle('disable');
									  $('#toggle-ASTs').bootstrapToggle('disable');
									  $('#toggle-TRBs').bootstrapToggle('disable');
									  $('#toggle-DRBs').bootstrapToggle('disable');
									  $('#toggle-STLs').bootstrapToggle('disable');
								 	  $('#toggle-3PTs').bootstrapToggle('disable');
									  $('#toggle-2PTs').bootstrapToggle('disable');									
								  }
							  })							  							  							  							  							  							  							  

						  })

</script>
	
	<script src="javascript/scatterPlot.js"></script>
</body>

</html>